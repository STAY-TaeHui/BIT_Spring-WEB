package com.controller;

import javax.servlet.http.HttpServletRequest;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.servlet.ModelAndView;

import com.model.NewArticleCommand;
import com.service.ArticleService;

/*
	- 클라이언트 요청
	1. 화면주세요(글쓰기, 로그인하기) : write.do
	2. 처리해주세요(글쓰기 입력 처리, 로그인 완료 처리) : writeok.do
	
	요청주소가 : write.do >> 화면보여달라
	요청주소가 : writeok.do >> 처리해라
	
	클라이언트 요청 주소 1개를 가지고 나눠서
	요청주소 하나로 (화면, 처리) 판단 >> 근거는 >> GET, POST 둘중하나
	>> http://localhost~~~~/article/newArticle.do 일때
	
	전송바익이
	1. GET >> 화면 >> VEIW 제공
	2. POST >> 서비스 처리 >> INSERT, UPDATE 처리
  
*/
@Controller
@RequestMapping("/article/newArticle.do")
public class NewArticleController {
	
	private ArticleService articleservice;
	
	@RequestMapping(method=RequestMethod.GET)//newArticle.do에서 전송방식이 GET으로 들어온다면!!
	public String form() {// 함수의 return type이 String이면 view의 주소라고 하자!!(약속) disaptcher에서 
		return "article/newArticleForm";
	}
	
	@RequestMapping(method=RequestMethod.POST)// 전송방식이 POST로 들어온다면!!(service 처리)
	public ModelAndView submit(HttpServletRequest request) {
		NewArticleCommand article = new NewArticleCommand();
		article.setParentId(Integer.parseInt(request.getParameter("parentId")));
		article.setTitle(request.getParamter("title"));
		article.setContent(request.getParameter("content"));
		
		return null;
	}
}
